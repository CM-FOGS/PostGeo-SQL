CREATE OR REPLACE FUNCTION ST_MultyRingsBuffer(
    geom GEOMETRY,
    radius_buffer float,
    n bigint)
RETURNS GEOMETRY AS  
$BODY$
WITH
tbla AS  (SELECT (ST_Dump($1)).geom geom),
tblb AS (SELECT (ST_Buffer(geom, radius_buffer*i)) geom FROM tbla a CROSS JOIN LATERAL generate_series (1, n) AS step(i)),
tblc AS (SELECT (ST_Dump(geom)).geom geom FROM (SELECT ST_Polygonize(geom) geom FROM tblb) foo)
SELECT ST_Collect(geom) geom FROM tblc;
$BODY$
LANGUAGE SQL

SELECT ST_MultyRingsBuffer(ST_Collect(geom), 10, 10) geom FROM <'Linestring' name_table>